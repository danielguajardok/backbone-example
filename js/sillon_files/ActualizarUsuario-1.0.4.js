var idComuna=0;var onAutenticacionOk;var objPersona;var UrlsPermitidas=new Array("/personas/poplogin.asp","/info/legal/default.asp","/Data/camp/Deco_ripley.asp","/financiamiento/gestion/Simulador.asp","/financiamiento/EncabezadoSimulador.asp","/financiamiento/gestion/MenuFinaciamiento.asp","/Personas/registrarNuevo.asp","/info/legal/","/info/legal/default.asp","/catalogo/frFichamnu.asp","/catalogo/frFichadesc.asp","/plantas/plantaprocat.asp","/catalogo/plubic.asp","/catalogo/adicional/piloto.asp","/catalogo/adicional/mdlcars.asp","/catalogo/adicional/eg_Mapas.asp","/comunes/compartircon.asp","/comunes/Errorpropiedad.asp","/catalogo/frFichaOtros.asp","/catalogo/info.asp","/catalogo/resppideinfosolo.asp","/catalogo/formFicha.asp","/catalogo/noticias.asp","/catalogo/cotol/productos.asp","/catalogo/cotol/menu.asp","/catalogo/cotol/docotizacion.asp","/catalogo/cotol/cotizaciones_realizadas.asp","/catalogo/cotol/imprime_producto.asp");var UrlsPopUps=new Array("/propiedades/fichas_prn.asp");function RefrescarUrl(){window.location.href=window.location}function EsUrlPermitida(){for(i=0;i<UrlsPermitidas.length;i++){if(window.location.href.toLowerCase().indexOf(UrlsPermitidas[i].toLowerCase())>=0){return true}}return false}function EsUrlPopUp(){for(i=0;i<UrlsPopUps.length;i++){if(window.location.href.toLowerCase().indexOf(UrlsPopUps[i].toLowerCase())>=0){return true}}return false}function clone(c){if(c==null||typeof(c)!="object"){return c}var b={};for(var a in c){b[a]=clone(c[a])}return b}function CargarPopUp(c,e){if(c.EsExtranjero){if(e){e()}return}if(EsUrlPermitida()){if(e){e()}return}objPersona=clone(c);onAutenticacionOk=e;var a="<div id='divActualizacionUsuario' title='Actualización de datos' class='PopUp'>"+"<form id='formActualizacion' style='margin-bottom: 0px;'><br />"+"<div class='PopUpAtencion' style='font-size:13px !important;'>Estimado usuario, a fin de poder brindarle un mejor servicio de búsqueda y publicación de propiedades, le solicitamos por favor mantener actualizados sus datos.<br />"+"</div><br />"+"<table border='0' cellpadding='0' cellspacing='0' width='100%'>"+"<tr>"+"<td width='450px'>"+"<div class='tituloEsquina'><span class='texto'>Datos personales</span><span class='esquina' /></div>"+"<table cellspacing='1' cellpadding='0' class='PopUpTable'>"+"<tr><td class='PopUpCampo'>Nombre:</td><td><input type='text' id='nombresPersona' name='nombresPersona' maxlength='100' style='width: 250px' /></td></tr>"+"<tr><td class='PopUpCampo'>Apellidos:</td><td><input type='text' id='apellidosPersona' name='apellidosPersona' maxlength='100' style='width: 250px' /></td></tr>"+"<tr><td class='PopUpCampo'>Fecha de nacimiento:</td><td><input type='text' name='FNacimiento' id='FNacimiento' value='' readonly>&nbsp;(opcional)</td></tr>"+"<tr><td class='PopUpCampo'>G&eacute;nero:</td><td ><input type='radio' id='gMasculino' name='generoPersona' value='1'><label for='gMasculino'> Masculino</label> &nbsp;<input type='radio' id='gFemenino' name='generoPersona' value='0'><label for='gFemenino'>Femenino</label><span id='spnError' name='spnError'></span></td></tr>"+"<tr><td class='PopUpCampo'>Rut:</td><td id='rutPersona'></td></tr>"+"<tr><td class='PopUpCampo'>E-mail:</td><td><input type='text' id='eMailPersona' name='eMailPersona' maxlength='100' style='width: 250px' /></td></tr>"+"<tr id='trEMail' style='display:none;'><td class='PopUpCampo'>Confirmar e-mail:</td><td><input type='text' id='confirmarEMailPersona' name='confirmarEMailPersona' maxlength='100' style='width: 250px' /></td></tr>"+"<tr><td class='PopUpCampo'>Comuna donde vive:</td><td><select id='comunaPersona' name='comunaPersona'></select></td></tr>"+"<tr><td class='PopUpCampo'>Dirección:</td><td><input type='text' id='direccionPersona' name='direccionPersona' maxlength='100' style='width: 250px' />&nbsp;(opcional)<span id='spDireccionOpcional'></span></td></tr>"+"<tr><td class='PopUpCampo'>Teléfono celular:</td><td>Cód. área <input type='text' id='caCelularPersona' name='caCelularPersona' maxlength='3' style='width: 25px' value='9' disabled='true' /> Número <input type='text' id='celularPersona' name='celularPersona' maxlength='8' style='width: 80px' />&nbsp;(opcional)</td></tr>"+"<tr><td class='PopUpCampo'>Teléfono particular:</td><td>Cód. área <input type='text' id='caTelefonoParticularPersona' name='caTelefonoParticularPersona' maxlength='3' style='width: 25px' /> Número <input type='text' id='telefonoParticularPersona' name='telefonoParticularPersona' maxlength='7' style='width: 80px' />&nbsp;(opcional)</td></tr>"+"<tr><td class='PopUpCampo'>Teléfono comercial:</td><td>Cód. área <input type='text' id='caTelefonoComercialPersona' name='caTelefonoComercialPersona' maxlength='3' style='width: 25px' /> Número <input type='text' id='telefonoComercialPersona' name='telefonoComercialPersona' maxlength='7' style='width: 80px' />&nbsp;(opcional)</td></tr>"+"<tr><td class='PopUpCampo'>Fax:</td><td>Cód. área <input type='text' maxlength='3' id='caFaxPersona' name='caFaxPersona' style='width: 25px' /> Número <input type='text' id='faxPersona' name='faxPersona' maxlength='7' style='width: 80px' />&nbsp;(opcional) <span id='spFaxOpcional'></span></td></tr>"+"<tr><td colspan='2' style='color:Gray; font-style:italic;'>(<label style='color: red;'>*</label>) son datos obligatorios.</td></tr>"+"</table>"+"</td>"+"<td width='320px' valign='top' align='left' style='padding-left:15px;'>"+"<div class='tituloEsquina'><span class='texto'>Suscripciones</span><span class='esquina' /></div>"+"<table cellspacing='1' cellpadding='0' border='0' width='100%' class='PopUpTable'>"+"<tr><td colspan='2' style='padding-left:10px;'>Deseo:</td></tr>"+"<tr><td valign='top' align='right'style='padding-left:8px;'><input type='checkbox' id='diarioInmobiliarioPersona' /></td><td>Recibir el boletín de análisis y noticias vía e-mail.</td><tr/>"+"<tr><td valign='top' align='right' style='padding-left:8px;'><input type='checkbox' id='quiereInfoPersona' /></td><td style='padding-top:3px;'>Recibir información de Portalinmobiliario.com o de<br />alguno de sus asociados acerca de productos y<br />servicios relacionados.</td></tr>"+"</table>"+"</td>"+"</tr>"+"</table>"+"<br />"+"<div class='tituloEsquina' style='height:1px;'><img src='/images/px.gif'></div>"+"<center> Declaro conocer y aceptar las <a href='/info/legal/' target='_blank'>Condiciones de uso de Portalinmobiliario.com</a>"+"<img id='imgProcesando' src='/images/procesando.gif' style='display:none' ></center>"+"</form></div>"+"<div id='confirmUsuarioNoModificado' title='Confirmación' class='PopUp' style='display: none'>"+"<div style='text-align:center; padding-top: 10px;'>Sus datos no han sido actualizados.<br />¿Desea continuar de todas formas?</div>"+"</div>";var f="<script type='text/javascript'>"+"     function fncInicializaDtPck() { "+"	 $(function() {"+"         $('#FNacimiento').datepicker({"+"             changeMonth: true,"+"             changeYear: true,"+"             maxDate: '+0m +0w +0d',"+"             yearRange: '1930:2012',"+"             dateFormat: 'dd/mm/yy',"+"             dayNames: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'],"+"             dayNamesMin: ['Do', 'Lu', 'Ma', 'Mi', 'Ju', 'Vi', 'Sa'],"+"             dayNamesShort: ['Dom', 'Lun', 'Mar', 'Mie', 'Ju', 'Vier', 'Sab'],"+"             monthNames: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],"+"             monthNamesShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],"+"             changeMonth: true,"+"             changeYear: true"+"         });"+"     });}"+"</script>";$("body").append(a);$("body").append(f);fncInicializaDtPck();idComuna=c.IdComuna;CargarPersona(c);CrearValidadores();callService(GetComunas,null,OnComunasRecived1,OnError);var b=800;var d=620;if(EsUrlPopUp()){if($(window).height()<d&&$(window).width()<b){window.resizeTo(b+50,d+50)}else{if($(window).height()<d){window.resizeTo($(window).width(),d+50)}else{if($(window).width()<b){window.resizeTo(b+50,$(window).height())}}}}$("#divActualizacionUsuario").dialog({bgiframe:true,height:"auto",minHeight:0,width:b,modal:true,draggable:false,resizable:false,buttons:{"Actualizar datos":function(){$("#formActualizacion").submit()}},open:function(h,g){$(".ui-dialog-titlebar-close").hide()},close:function(h,g){if(EsUrlPopUp()){window.opener.logOff();window.close()}else{logOff()}}});$("#confirmUsuarioNoModificado").dialog({bgiframe:true,height:"auto",minHeight:0,width:280,modal:true,draggable:false,resizable:false,autoOpen:false,zIndex:1005,buttons:{"Continuar":function(){$(this).dialog("close");ActualizarUsuario()},"Cancelar":function(){$(this).dialog("close")}}});$(window).bind("resize",function(){$("#divActualizacionUsuario").dialog("option","position",$("#divActualizacionUsuario").dialog("option","position"));$("#confirmUsuarioNoModificado").dialog("option","position",$("#confirmUsuarioNoModificado").dialog("option","position"))});$("#nombresPersona").focus();$("#btnCancelar").click(function(){logOff()});$("#imgCerrar").click(function(){logOff()})}function CrearValidadores(){$("#formActualizacion").validate({rules:{nombresPersona:{required:true,nombresRestringidos:true,caracteres:true},apellidosPersona:{required:true,nombresRestringidos:true,caracteres:true},direccionPersona:{nombresRestringidos:true,validadorRequeridoPorCheck:"#planoInmobiliarioPersona"},eMailPersona:{required:true,email:true},generoPersona:{required:true},celularPersona:{digits:true,rangelength:[8,8],validarAlMenosUnRequerido:new Array("#celularPersona","#telefonoParticularPersona","#telefonoComercialPersona")},caTelefonoParticularPersona:{digits:true,rangelength:[1,3]},telefonoParticularPersona:{digits:true,rangelength:[6,8],validarAmbosRequeridos:"#caTelefonoParticularPersona"},caTelefonoComercialPersona:{digits:true,rangelength:[1,3]},telefonoComercialPersona:{digits:true,rangelength:[6,8],validarAmbosRequeridos:"#caTelefonoComercialPersona"},caFaxPersona:{digits:true,rangelength:[1,3]},faxPersona:{digits:true,rangelength:[6,8],validarAmbosRequeridos:"#caFaxPersona"}},groups:{telefonoParticularPersona:"caTelefonoParticularPersona telefonoParticularPersona",telefonoComercialPersona:"caTelefonoComercialPersona telefonoComercialPersona",faxPersona:"caFaxPersona faxPersona"},messages:{nombresPersona:{required:"*"},apellidosPersona:{required:"*"},generoPersona:{required:"*"},direccionPersona:{validadorRequeridoPorCheck:"*"},eMailPersona:{required:"*",email:"<br />E-mail inválido."},celularPersona:{digits:"<br />Ingrese solo números (sin espacios).",rangelength:"<br />Número de celular posee {0} dígitos."},caTelefonoParticularPersona:{digits:"<br />Ingrese solo números (sin espacios).",rangelength:"<br />Código de área posee entre {0} y {1} dígitos."},telefonoParticularPersona:{digits:"<br />Ingrese solo números (sin espacios).",rangelength:"<br />Número de teléfono posee entre {0} y {1} dígitos."},caTelefonoComercialPersona:{digits:"<br />Ingrese solo números (sin espacios).",rangelength:"<br />Código de área posee entre {0} y {1} dígitos."},telefonoComercialPersona:{digits:"<br />Ingrese solo números (sin espacios).",rangelength:"<br />Número de teléfono posee entre {0} y {1} dígitos."},caFaxPersona:{digits:"<br />Ingrese solo números (sin espacios).",rangelength:"<br />Código de área posee entre {0} y {1} dígitos."},faxPersona:{digits:"<br />Ingrese solo números (sin espacios).",rangelength:"<br />Número de Fax posee entre {0} y {1} dígitos."}},submitHandler:function(){if(!PersonaModificada()){$("#confirmUsuarioNoModificado").dialog("open")}else{ActualizarUsuario()}},errorPlacement:function(b,a){if(a.attr("name")=="direccionPersona"){b.insertAfter("#spDireccionOpcional")}else{if(a.attr("name")=="caTelefonoParticularPersona"){b.insertAfter("#telefonoParticularPersona")}else{if(a.attr("name")=="caTelefonoComercialPersona"){b.insertAfter("#telefonoComercialPersona")}else{if(a.attr("name")=="caFaxPersona"||a.attr("name")=="faxPersona"){b.insertAfter("#spFaxOpcional")}else{if(a.attr("name")=="generoPersona"){$("#spnError").append(b)}else{b.insertAfter(a)}}}}}}});$.validator.addMethod("nombresRestringidos",ValidarNombresRestringidos,"<br />Contenido inválido.");$.validator.addMethod("caracteres",ValidarCaracteres,"<br />Caracteres inválidos.");$.validator.addMethod("validarAmbosRequeridos",ValidarAmbosRequeridos,"<br />Ingrese código de área y número.");$.validator.addMethod("validarAlMenosUnRequerido",ValidarAlMenosUnRequerido,"<br />Ingrese al menos un teléfono.");$.validator.addMethod("validadorRequeridoPorCheck",ValidadorRequeridoPorCheck,"*");$.validator.addMethod("validarRut",ValidarRut,"<br />Rut inválido.");if($("#txtRutPersona").length>0){$("#txtRutPersona").rules("add",{required:true,validarRut:true,messages:{required:"*"}})}}function OnError(a){if(a){if(a.Message!=""){alert("Se ha generado una excepción :\n"+a.Message)}}}function OnComunasRecived1(b){for(i=0;i<b.length;i++){var a=new Option();a.text=b[i].Nombre;a.value=b[i].IDComuna;a.codigoArea=b[i].CodigoArea;$("#comunaPersona")[0].options[i]=a}$("#comunaPersona").val(idComuna.toString());$("#comunaPersona").change(ChangeComuna)}function ChangeComuna(){var a=$("#comunaPersona :selected").attr("CodigoArea");if($("#telefonoParticularPersona").val()==""){$("#caTelefonoParticularPersona").val(a)}if($("#telefonoComercialPersona").val()==""){$("#caTelefonoComercialPersona").val(a)}if($("#faxPersona").val()==""){$("#caFaxPersona").val(a)}}function CargarRut(a){if(ValidarRut(FormatearRut(a))){$("#rutPersona").html(FormatearRut(a))}else{$("#rutPersona").html("<input id='txtRutPersona' type='text' value='"+FormatearRut(a)+"' /> <span>Ej XX.XXX.XXX-X</span>");$("#txtRutPersona").blur(function(){$("#txtRutPersona").val(FormatearRut($("#txtRutPersona").val()))})}}function OnMailModificado(a){$("#trEMail").show();$("#confirmarEMailPersona").rules("add",{required:true,email:true,equalTo:"#eMailPersona",messages:{required:"*",email:"<br />E-mail inválido.",equalTo:"<br />E-mail no coincide."}})}function CargarPersona(b){CargarRut(b.Rut);$("#eMailPersona").change(function(){OnMailModificado()});$("#nombresPersona").val(b.Nombres);$("#apellidosPersona").val(b.Apellidos);$("#eMailPersona").val(b.Email);value=new Date(parseInt(String(b.FNacimiento).toString().replace("/Date(","").replace(")/",""),10));if(value.getDate().toString()!="NaN"){$("#FNacimiento").val((value.getDate()<10?"0"+value.getDate():value.getDate())+"/"+(value.getMonth()+1<10?"0"+(value.getMonth()+1):(value.getMonth()+1))+"/"+value.getFullYear())}if(b.Sexo==0){$("input[name='generoPersona']:eq(0)").attr("checked",true)}else{if(b.Sexo==1){$("input[name='generoPersona']:eq(1)").attr("checked",true)}}$("#direccionPersona").val(jQuery.trim(b.Direccion));cargarTelefono(b.Celular,"","#celularPersona");cargarTelefono(b.Telefono1,"#caTelefonoParticularPersona","#telefonoParticularPersona");cargarTelefono(b.Telefono2,"#caTelefonoComercialPersona","#telefonoComercialPersona");cargarTelefono(b.Fax,"#caFaxPersona","#faxPersona");if(b.QuiereInfo){$("#quiereInfoPersona").each(function(){this.checked=true})}if($("#decoRipleyPersona").length>0){if(b.DecoRipley){$("#decoRipleyPersona").each(function(){this.checked=true})}}if(b.DiarioInmobiliario){$("#diarioInmobiliarioPersona").each(function(){this.checked=true})}var a=0;if($("#planoInmobiliarioPersona").length>0){if(b.PlanoInmobiliario){$("#planoInmobiliarioPersona").each(function(){this.checked=true})}}}function cargarTelefono(c,b,e){c=jQuery.trim(c);if(c.indexOf("-")>0){var a=c.split("-")[0];var d=c.replace(a,"").replace("-","");$(b).val(a);$(e).val(d)}else{if(c.indexOf(" ")>0){var a=c.split(" ")[0];var d=c.replace(a,"").replace(" ","");$(b).val(a);$(e).val(d)}else{$(e).val(c)}}}function OnActualizarUsuario(a){if(onAutenticacionOk){onAutenticacionOk()}else{window.location.href=window.location}$("#imgProcesando").css("display","none");$("#divActualizacionUsuario").dialog("destroy")}function OnErrorActualizarUsuario(a){HabilitarBotonPorTexto("Actualizar datos",false);HabilitarBotonPorTexto("Cancelar",false);$("#imgProcesando").css("display","none");alert(a.Message)}function PersonaModificada(){if($("#txtRutPersona").length>0){return true}if($("#nombresPersona").val()!=objPersona.Nombres){return true}if($("#apellidosPersona").val()!=objPersona.Apellidos){return true}if($("#eMailPersona").val()!=objPersona.Email){return true}if($("#direccionPersona").val()!=objPersona.Direccion){return true}if($("#celularPersona").val()!=""){if(!objPersona.Celular){return true}if(($("#caCelularPersona").val()+$("#celularPersona").val())!=objPersona.Celular.replace("-","")){return true}}if($("#comunaPersona").val()!=objPersona.IdComuna){return true}if($("#FNacimiento").val()!=objPersona.FNacimiento){return true}if($("input[name='generoPersona']:eq(0)").val()!=objPersona.Sexo){return true}if($("#telefonoParticularPersona").val()!=""&&!objPersona.Telefono1){return true}if($("#telefonoComercialPersona").val()!=""&&!objPersona.Telefono2){return true}if($("#faxPersona").val()!=""&&!objPersona.Fax){return true}if(($("#caTelefonoParticularPersona").val()+$("#telefonoParticularPersona").val())!=objPersona.Telefono1.replace("-","")){return true}if(($("#caTelefonoComercialPersona").val()+$("#telefonoComercialPersona").val())!=objPersona.Telefono2.replace("-","")){return true}if(($("#caFaxPersona").val()+$("#faxPersona").val())!=objPersona.Fax.replace("-","")){return true}if(($("#quiereInfoPersona:checked").val()!=null)!=objPersona.QuiereInfo){return true}if($("#decoRipleyPersona").length>0){if(($("#decoRipleyPersona:checked").val()!=null)!=objPersona.DecoRipley){return true}}if(($("#diarioInmobiliarioPersona:checked").val()!=null)!=objPersona.DiarioInmobiliario){return true}if($("#planoInmobiliarioPersona").length>0){if(($("#planoInmobiliarioPersona:checked").val()!=null)!=objPersona.PlanoInmobiliario){return true}}return false}function ActualizarUsuario(h){var g='{"persona":{"Nombres":"{0}","Apellidos":"{1}","Direccion":"{2}","Email":"{3}","IdComuna":"{4}","Fax":"{5}","Telefono1":"{6}","Telefono2":"{7}","Celular":"{8}","DiarioInmobiliario":"{9}","QuiereInfo":"{10}"';var e=($("#telefonoParticularPersona").val()!="")?$("#caTelefonoParticularPersona").val()+"-"+$("#telefonoParticularPersona").val():"";var c=($("#telefonoComercialPersona").val()!="")?$("#caTelefonoComercialPersona").val()+"-"+$("#telefonoComercialPersona").val():"";var j=($("#faxPersona").val()!="")?$("#caFaxPersona").val()+"-"+$("#faxPersona").val():"";var b=($("#celularPersona").val()!="")?$("#caCelularPersona").val()+"-"+$("#celularPersona").val():"";g=$.validator.format(g,new Array($("#nombresPersona").val(),$("#apellidosPersona").val(),$("#direccionPersona").val(),$("#eMailPersona").val(),$("#comunaPersona").val(),j,e,c,b,($("#diarioInmobiliarioPersona:checked").val()!=null),($("#quiereInfoPersona:checked").val()!=null)),$("input[name='generoPersona']:checked").val());if($("#txtRutPersona").length>0){g+=',"Rut": "'+$("#txtRutPersona").val().replace(/-/g,"").replace(/\./g,"")+'"'}if($("#decoRipleyPersona").length>0){g+=',"DecoRipley":"'+($("#decoRipleyPersona:checked").val()!=null)+'"'}else{g+=',"DecoRipley":"false"'}if($("#planoInmobiliarioPersona").length>0){g+=',"PlanoInmobiliario":"'+($("#planoInmobiliarioPersona:checked").val()!=null)+'"'}else{g+=',"PlanoInmobiliario":"false"'}if($("input[name='generoPersona']:checked").val()==1||$("input[name='generoPersona']:checked").val()==0){g+=',"Sexo":"'+$("input[name='generoPersona']:checked").val()+'"'}if($("#FNacimiento").val().length>0){var d=$("#FNacimiento").val().replace("-","/").split("/");if(d.length==3){var a=new Date(d[2],(d[1]-1),d[0]);var f="/Date("+a.getTime()+")/";g+=',"FNacimiento":"'+f+'"'}}g+="}";HabilitarBotonPorTexto("Actualizar datos",false);HabilitarBotonPorTexto("Cancelar",false);$("#imgProcesando").css("display","block");paginasMensajeSesion.push(window.location.href);callService(ActualizarUsuarioPortal,g,OnActualizarUsuario,OnErrorActualizarUsuario)}function HabilitarBotonPorTexto(a,b){$("button").each(function(){if($(this).attr("innerHTML")==a){$(this).attr("disabled",!b)}})}function UsuarioActualizado(a){return !a.NecesitaActualizar}function SumarMeses(b,a){while(a>12){b.setYear(b.getYear()+1);a-=12}if(a+b.getMonth()>11){b.setYear(b.getYear()+1)}b.setMonth(b.getMonth()+a)}function FormatearRut(b){b=b.replace(/-/g,"").replace(/\./g,"");var a="-"+b.substr(b.length-1,1);b=b.substr(0,b.length-1);while(b.length>3){a="."+b.substr(b.length-3,3)+a;b=b.substr(0,b.length-3)}if(b.length>0){a=b+a}else{a=a.substr(1,a.length-1)}return a}function logOff(){callService(SalirUsuarioPortal,"",onSalirUsuarioPortal,OnError)}function onSalirUsuarioPortal(a){document.location.href="/personas/cerrarsesion.asp"}function ValidarNombresRestringidos(a,b){if(!reValoresRestringidos){return true}return !reValoresRestringidos.test(a)}function ValidarCaracteres(a,b){for(i=0;i<a.length;i++){if((a.charCodeAt(i)!=32)&&(a.charCodeAt(i)!=39)&&(a.charCodeAt(i)!=45)&&(a.charCodeAt(i)<48||a.charCodeAt(i)>57)&&(a.charCodeAt(i)<65||a.charCodeAt(i)>90)&&(a.charCodeAt(i)<97||a.charCodeAt(i)>122)&&(a.charCodeAt(i)<192||a.charCodeAt(i)>197)&&(a.charCodeAt(i)<200||a.charCodeAt(i)>207)&&(a.charCodeAt(i)<209||a.charCodeAt(i)>214)&&(a.charCodeAt(i)<217||a.charCodeAt(i)>220)&&(a.charCodeAt(i)<224||a.charCodeAt(i)>229)&&(a.charCodeAt(i)<232||a.charCodeAt(i)>239)&&(a.charCodeAt(i)<241||a.charCodeAt(i)>246)&&(a.charCodeAt(i)<249||a.charCodeAt(i)>252)){return false}}return true}function ValidarAmbosRequeridos(b,c,a){return((b=="")||(b!=""&&$(a).val()!=""))}function ValidarAlMenosUnRequerido(b,c,a){for(i=0;i<a.length;i++){if($(a[i]).val()!=""){return true}}return false}function ValidadorRequeridoPorCheck(b,c,a){if($(a).length==0){return true}if($(a+":checked").val()==null){return true}return(b!="")}function ValidarRut(g,c){var h,f,b,d="";var a="0",e=0,j=2;b=g.length-1;h=g.substr(0,b-1);f=g.substr(b);if(h==""){return false}for(i=0;i<h.length;i++){if(h.charAt(i)>="0"&&h.charAt(i)<="9"){d=d+h.charAt(i)}else{if(h.charAt(i)!="."){return false}}}if(f==""){return false}if((f<"0"||f>"9")&&f.toLowerCase()!="k"){return false}h=d;for(i=h.length-1;i>=0;i--){e=e+h.charAt(i)*j;if(j==7){j=2}else{j++}}res=e%11;if(res==1){a="k"}else{if(res==0){a="0"}else{dvi=11-res;a=dvi+""}}if(a!=f.toLowerCase()){return false}return true};